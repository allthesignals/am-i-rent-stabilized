<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <!-- Makes your prototype chrome-less once bookmarked to your phone's home screen -->
      <meta name="apple-mobile-web-app-capable" content="yes">
      <meta name="apple-mobile-web-app-status-bar-style" content="black">      
      <title>Am I Rent Stabilized?</title>
      <meta name="description" content="Find out if your NYC apartment is rent stabilized!">      
      <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
      
      <link rel="shortcut icon" href="favicon.png">
      <link rel="stylesheet" type="text/css" href="css/reset.css">
      <link rel="stylesheet" type="text/css" href="bower_components/normalize.css/normalize.css">
      <link rel="stylesheet" href="bower_components/leaflet/dist/leaflet.css" />
      <link rel="stylesheet" type="text/css" href="bower_components/cartodb.js/themes/css/cartodb.css">            
      <link rel="stylesheet" type="text/css" href="css/styles.css">      
      <script src="js/modernizr.custom.32828.js"></script>      
  </head>
  <body>    
    <div id="wrapper">      
      <!-- guide for debugging css -->
      <!-- <hr id="guide"> -->
      
      <!-- to do: add header / nav bar -->
      <header>
      </header>
      
      <!-- slide one -->
      <section>
        <p class="callout">Hey NYC!</p>
        <h1>Am I Rent Stabilized?</h1>
        <p class="center">Let's find out!</p>
        <p class="center arrow"><a href="#two">next<br>&#9660;</a></p>        
      </section>
      <!-- two -->
      <section> 
        <a name="two"></a>       
        <h3>First, let's have your building address and Borough:</h3>
        <p class="center"><em>We won't keep this info, promise!</em></p>
        <div id="form" class="box">    
          <div class="address-box">
              <input id="address" type="text" placeholder="Enter your street address"></input>      
          </div>          
          <!-- <p>Select your borough:</p> -->
          <div class="select-box">
              <select id="boro">
                  <option value='select'>Select Your Borough</option>
                  <option>Bronx</option>
                  <option>Brooklyn</option>                
                  <option>Manhattan</option>
                  <option>Queens</option>
                  <option>Staten Island</option>
              </select>                          
          </div>
          <a id="submit" href="#three">Search</a>          
        </div>
      </section>
      <!-- three -->
      <section class="three">
        <a name="three"></a>        
        <h3>Hold on, we're checking...</h3>
        <div id="gif"></div>
        <a href="#four"></a>        
      </section>
      <!-- four -->
      <section class="four">
        <a name="four"></a>
        <div class="cheating">
          <h3>Hey! Go <a href="#two">^back^</a> and fill out the form! </h3>
        </div>        
        <div class="yes hidden">
          <h3>Good news! <br> Your building <em>might be</em> rent stabilized!</h3>           
        </div>
        <div class="no hidden">
          <h3>Sorry, your building wasn't found in the database.</h3>
          <p class="center small">But we can't be 100&#37; sure you aren't rent stabilized so please read on!</p>          
        </div>
        <div id="map-container">
          <div id="map"></div>
        </div>
        <p class="center small legend"><span class="orange">*Orange</span> means a property likely has rent stabilized apartments.</p>        
        <p class="center arrow"><a href="#five">next<br>&#9660;</a></p>        
      </section>
      <!-- five -->
      <section>
        <a name="five"></a>
        <h1>Okay, here's how to take action:</h1>
        <p class="center">Follow these 4 simple steps...</p>
        <p class="center arrow"><a href="#six">next<br>&#9660;</a></p>
      </section>
      <!-- six  -->
      <section>
        <a name="six"></a>
        <h3 class="steps">1. Request your rent history.</h3>
        <p class="center">
          Email or call the<br> 
          <a target="_blank" href="http://www.nyshcr.org/">New York State Homes <br> and Community Renewal</a><br>at:<br>
          <a id="mailto" href="#">rentinfo@nyshcr.org</a><br>
          <a href="tel:1-718-739-6400">718 739-6400</a>
        </p>
        <p class="center">
          Be sure to tell them your <strong>name, address, apartment &#35; </strong> and that 
          you'd like to request your <strong>rent history</strong>.
        </p>
        <p class="center arrow"><a href="#seven">next<br>&#9660;</a></p>
      </section>
      <!-- seven -->
      <section>
        <a name="seven"></a>
        <h3 class="steps">2. Wait for it in the mail.</h3>
        <p class="center">It shouldn't take more than a few days!</p>
        <p class="center">Meanwhile, <strong>check with your neighbors</strong> to see if they know whether or not they're rent stabilized.</p>
        <p class="center"><em>Have them check here too!</em></p>
        <p class="center arrow"><a href="#eight">next<br>&#9660;</a></p>
      </section>
      <!-- eight -->
      <section>
        <a name="eight"></a>
        <h3 class="steps">3. When you receive your rent history, check it out.</h3>
        <p class="center">Look at what the previous tenant was paying, 
          and whether or not they were rent stabilized.</p>
        <!-- <p class="center">It will tell you so here:</p> -->
        <p class="center arrow"><a href="#nine">next<br>&#9660;</a></p>
      </section>
      <!-- nine -->
      <section>
        <a name="nine"></a>
        <h3 class="steps">4. If they were paying a lot less than you are, file a complaint with the DHCR!</h3>
        <p class="center vcenter"><em>Fill out and mail <a target="_blank" href="http://www.nyshcr.org/Forms/Rent/ra89.pdf">this form*.</a></em></p>
        <p class="center small">*Yes, the government is old school and still does things by mail!</p>
        <p class="center arrow"><a href="#ten">next<br>&#9660;</a></p>
      </section>
      <!-- ten -->
      <section>
        <a name="ten"></a>
        <p class="center">
          If the DHCR finds your complaint to be valid they will require
          your landlord to<br>
          <strong>reimburse you for past rent!</strong>
        </p>
        <p class="center">Whoot!</p>
        <br>
        <p class="center vcenter"><a target="_blank" href="http://www.nycrgb.org/html/resources/faq/rentstab.html">Learn More.</a></p>
        <p class="center">Or <a href="#top">start over.</a></p>
      </section>
    </div>
    <!-- end -->
      
    <!-- JavaScript libraries -->
    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    <script src="bower_components/cartodb.js/dist/cartodb.noleaflet.js"></script>
    <script type="text/javascript" src="http://maps.stamen.com/js/tile.stamen.js?v1.2.3"></script>
    <script src="js/parse-address.min.js"></script>
    <script src="bower_components/spin.js/spin.js"></script>
    <script src="bower_components/spin.js/jquery.spin.js"></script>
    <script src="bower_components/viewport-units-buggyfill/viewport-units-buggyfill.js"></script>
    <!-- Javascripts -->    
    <script type="text/javascript">
      // fix problem with iOS tool bar
      var init = function() {
        var userAgent = window.navigator.userAgent;
        var sections = document.documentElement.getElementsByTagName('section');
        
        var setHeight = function() {
          var i = 0, len = sections.length;
          for (i; i<len; i++) {
            sections[i].style.height = window.innerHeight + 'px';
          }
        }
        
        var setIOSHeight = function() {
          var i = 1, len = sections.length;
          sections[0].style.height = getIOSWindowHeight() + 'px';
          for (i; i<len; i++) {
            sections[i].style.height = getIOSWindowHeight()  + getHeightOfIOSToolbars() + 'px';
          }
        }
        
        var getIOSWindowHeight = function() {
          var zoomLevel = document.documentElement.clientWidth / window.innerWidth;
          return window.innerHeight * zoomLevel;
        };
        
        var getHeightOfIOSToolbars = function() {
          var tH = (window.orientation === 0 ? screen.height : screen.width) -  getIOSWindowHeight();
          return tH > 1 ? tH : 0;
        };
        
        if (userAgent.match(/iPad/i) || userAgent.match(/iPhone/i)) {
          console.log('iphone detected');
          window.resizeTo(window.innerWidth, getIOSWindowHeight);
          setIOSHeight();
        } else {
          setHeight();
        }
      }
      window.onload = function() {
        init();
      }    
    </script>
    <script src="js/main.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-57236362-1', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>