!function(){"use strict";var e=["html","json","jsonp","script"],t=["connect","delete","get","head","options","patch","post","put","trace"],n=function a(){var e={},t={},n={url:function(e){return s.call(this,"url",e,r.string)},sync:function(e){return s.call(this,"sync",e,r.bool)},cache:function(e){return s.call(this,"cache",e,r.bool)},type:function(e){return s.call(this,"type",e,r.type)},header:function(t,n){return e.headers=e.headers||{},r.string(t),"undefined"!=typeof n?(r.string(n),e.headers[t]=n,this):e.headers[t]},auth:function(t,n){return r.string(t),r.string(n),e.auth={user:t,passwd:n},this},method:function(e){return s.call(this,"method",e,r.method)},queryString:function(e){return s.call(this,"queryString",e,r.queryString)},data:function(e){return s.call(this,"data",e,r.plainObject)},body:function(e){return s.call(this,"body",e,null,function(e){if("object"==typeof e){if(!(e instanceof FormData)){try{e=JSON.stringify(e)}catch(t){throw new TypeError("Unable to stringify body's content : "+t.name)}this.header("Content-Type","application/json")}}else e+="";return e})},into:function(e){return s.call(this,"into",e,r.selector,function(e){return"string"==typeof e?document.querySelectorAll(e):e instanceof HTMLElement?[e]:void 0})},jsonPaddingName:function(e){return s.call(this,"jsonPaddingName",e,r.string)},jsonPadding:function(e){return s.call(this,"jsonPadding",e,r.func)},on:function(e,n){return"function"==typeof n&&(t[e]=t[e]||[],t[e].push(n)),this},off:function(e){return t[e]=[],this},trigger:function(e,n){var r=this,o=function(e,n){t[e]instanceof Array&&t[e].forEach(function(e){e.call(r,n)})};if("undefined"!=typeof e){e+="";var a=/^([0-9])([0-9x])([0-9x])$/i,i=e.match(a);i&&i.length>3?Object.keys(t).forEach(function(e){var t=e.match(a);!(t&&t.length>3&&i[1]===t[1])||"x"!==t[2]&&i[2]!==t[2]||"x"!==t[3]&&i[3]!==t[3]||o(e,n)}):t[e]&&o(e,n)}return this},go:function(){var t=e.type||(e.into?"html":"json"),n=c();return"function"==typeof i[t]?i[t].call(this,n):void 0}},i={json:function(e){var t=this;i._xhr.call(this,e,function(e){if(e)try{e=JSON.parse(e)}catch(n){return t.trigger("error",n),null}return e})},html:function(t){i._xhr.call(this,t,function(t){return e.into&&e.into.length&&[].forEach.call(e.into,function(e){e.innerHTML=t}),t})},_xhr:function(t,n){var r,o,a,i,s=this,c=e.method||"get",d=e.sync!==!0,u=new XMLHttpRequest,p=e.data,f=e.body,h=(e.headers||{},this.header("Content-Type"));if(!h&&p&&l()&&(this.header("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h=this.header("Content-Type")),p&&l())if("string"!=typeof f&&(f=""),h.indexOf("json")>-1)try{f=JSON.stringify(p)}catch(g){throw new TypeError("Unable to stringify body's content : "+g.name)}else{a=h&&h.indexOf("x-www-form-urlencoded")>1;for(r in p)f+=a?encodeURIComponent(r)+"="+encodeURIComponent(p[r])+"&":r+"="+p[r]+"\n\r"}i=[c,t,d],e.auth&&(i.push(e.auth.user),i.push(e.auth.passwd)),u.open.apply(u,i);for(o in e.headers)u.setRequestHeader(o,e.headers[o]);u.onprogress=function(e){e.lengthComputable&&s.trigger("progress",e.loaded/e.total)},u.onload=function(){var e=u.responseText;this.status>=200&&this.status<300&&("function"==typeof n&&(e=n(e)),s.trigger("success",e)),s.trigger(this.status,e),s.trigger("end",e)},u.onerror=function(e){s.trigger("error",e,arguments)},u.send(f)},jsonp:function(t){var n,r=this,i=document.querySelector("head"),s=e.sync!==!0,l=e.jsonPaddingName||"callback",c=e.jsonPadding||"_padd"+(new Date).getTime()+Math.floor(1e4*Math.random()),d={};if(a[c])throw new Error("Padding "+c+"  already exists. It must be unique.");/^ajajsonp_/.test(c)||(c="ajajsonp_"+c),window[c]=function(e){r.trigger("success",e),i.removeChild(n),window[c]=void 0},d[l]=c,t=o(t,d),n=document.createElement("script"),n.async=s,n.src=t,n.onerror=function(){r.trigger("error",arguments),i.removeChild(n),window[c]=void 0},i.appendChild(n)},script:function(t){var n,r=this,o=document.querySelector("head")||document.querySelector("body"),a=e.sync!==!0;if(!o)throw new Error("Ok, wait a second, you want to load a script, but you don't have at least a head or body tag...");n=document.createElement("script"),n.async=a,n.src=t,n.onerror=function(){r.trigger("error",arguments),o.removeChild(n)},n.onload=function(){r.trigger("success",arguments)},o.appendChild(n)}},s=function(t,n,o,a){if("undefined"!=typeof n){if("function"==typeof o)try{n=o.call(r,n)}catch(i){throw new TypeError("Failed to set "+t+" : "+i.message)}return e[t]="function"==typeof a?a.call(this,n):n,this}return"undefined"===e[t]?null:e[t]},l=function(){return["delete","patch","post","put"].indexOf(e.method)>-1},c=function(){var t=e.url,n="undefined"!=typeof e.cache?!!e.cache:!0,r=e.queryString||"",a=e.data;return n===!1&&(r+="&ajabuster="+(new Date).getTime()),t=o(t,r),a&&!l()&&(t=o(t,a)),t};return n},r={bool:function(e){return!!e},string:function(e){if("string"!=typeof e)throw new TypeError("a string is expected, but "+e+" ["+typeof e+"] given");return e},plainObject:function(e){if("object"!=typeof e||e.constructor!==Object)throw new TypeError("an object is expected, but "+e+"  ["+typeof e+"] given");return e},type:function(t){if(t=this.string(t),e.indexOf(t.toLowerCase())<0)throw new TypeError("a type in ["+e.join(", ")+"] is expected, but "+t+" given");return t.toLowerCase()},method:function(e){if(e=this.string(e),t.indexOf(e.toLowerCase())<0)throw new TypeError("a method in ["+t.join(", ")+"] is expected, but "+e+" given");return e.toLowerCase()},queryString:function(e){var t={};return"string"==typeof e?e.replace("?","").split("&").forEach(function(e){var n=e.split("=");2===n.length&&(t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]))}):t=e,this.plainObject(t)},selector:function(e){if("string"!=typeof e&&!(e instanceof HTMLElement))throw new TypeError("a selector or an HTMLElement is expected, "+e+" ["+typeof e+"] given");return e},func:function(e){if(e=this.string(e),!/^([a-zA-Z_])([a-zA-Z0-9_\-])+$/.test(e))throw new TypeError("a valid function name is expected, "+e+" ["+typeof e+"] given");return e}},o=function(e,t){var n;if(e=e||"",t)if(-1===e.indexOf("?")&&(e+="?"),"string"==typeof t)e+=t;else if("object"==typeof t)for(n in t)e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(t[n]);return e};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof exports?module.exports=n:window.aja=window.aja||n}(),function(w,d){var atc_url="//addtocalendar.com/atc/",atc_version="1.5",b=d.documentElement;Array.indexOf||(Array.prototype.indexOf=function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]==e)return t;return-1}),Array.prototype.map||(Array.prototype.map=function(e){for(var t=[],n=0,r=this.length;r>n;n++)t.push(e(this[n]));return t});var isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunc=function(e){return"[object Function]"===Object.prototype.toString.call(e)},ready=function(e,t){function n(){if(!s){if(!t.body)return setTimeout(n,13);if(s=!0,c){for(var e,r=0;e=c[r++];)e.call(null);c=null}}}function r(){if(!l){if(l=!0,"complete"===t.readyState)return n();if(t.addEventListener)t.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",n,!1);else if(t.attachEvent){t.attachEvent("onreadystatechange",a),e.attachEvent("onload",n);var r=!1;try{r=null==e.frameElement}catch(s){}b.doScroll&&r&&o()}else i=e.onload,e.onload=function(e){i(e),n()}}}function o(){if(!s){try{b.doScroll("left")}catch(e){return void setTimeout(o,1)}n()}}var a,i,s=!1,l=!1,c=[];return t.addEventListener?a=function(){t.removeEventListener("DOMContentLoaded",a,!1),n()}:t.attachEvent&&(a=function(){"complete"===t.readyState&&(t.detachEvent("onreadystatechange",a),n())}),function(e){r(),s?e.call(null):c.push(e)}}(w,d);w.addtocalendar&&"function"==typeof w.addtocalendar.start||(w.addtocalendar||(w.addtocalendar={}),addtocalendar.languages={de:"In den Kalender",en:"Add to Calendar",es:"Añadir al Calendario",fr:"Ajouter au calendrier",hi:"कैलेंडर में जोड़ें","in":"Tambahkan ke Kalender",ja:"カレンダーに追加",ko:"캘린더에 추가",pt:"Adicionar ao calendário",ru:"Добавить в календарь",uk:"Додати в календар",zh:"添加到日历"},addtocalendar.calendar_urls={},addtocalendar.loadSettings=function(element){var settings={language:"auto","show-list-on":"click",calendars:["iCalendar","Google Calendar","Outlook","Outlook Online","Yahoo! Calendar"],secure:"auto","on-button-click":function(){},"on-calendar-click":function(){}};for(var option in settings){var pname="data-"+option,eattr=element.getAttribute(pname);if(null!=eattr){if(isArray(settings[option])){settings[option]=eattr.replace(/\s*,\s*/g,",").replace(/^\s+|\s+$/g,"").split(",");continue}if(isFunc(settings[option])){var fn=window[eattr];settings[option]=isFunc(fn)?fn:eval("(function(mouseEvent){"+eattr+"})");continue}settings[option]=element.getAttribute(pname)}}return settings},addtocalendar.load=function(){ready(function(){for(var e={iCalendar:"ical","Google Calendar":"google",Outlook:"outlook","Outlook Online":"outlookonline","Yahoo! Calendar":"yahoo"},t=-(new Date).getTimezoneOffset().toString(),n=addtocalendar.languages,r=document.getElementsByTagName("*"),o=0;o<r.length;o++){var a=r[o].className;if(-1!=a.split(" ").indexOf("addtocalendar")){var i=addtocalendar.loadSettings(r[o]),s=1==i.calendars.length,l="http:";"auto"==i.secure?l="https:"==location.protocol?"https:":"http:":"true"==i.secure&&(l="https:");var c=l+atc_url,d=r[o].id,u=n.en;if("auto"==i.language){var p="no_lang";"string"==typeof navigator.language?p=navigator.language.substr(0,2):"string"==typeof navigator.browserLanguage&&(p=navigator.browserLanguage.substr(0,2)),n.hasOwnProperty(p)&&(u=n[p])}else n.hasOwnProperty(i.language)&&(u=n[i.language]);for(var f=["utz="+t,"uln="+navigator.language,"vjs="+atc_version],h=r[o].getElementsByTagName("var"),g=-1,m=0;m<h.length;m++){var v=h[m].className.replace("atc_",""),y=h[m].innerHTML;"event"!=v?v!=h[m].className?-1!=g&&f.push("e["+g+"]["+v+"]="+encodeURIComponent(y)):"atc-body"==v&&(u=y):g++}var b=""==d?"":d+"_link",w=document.createElement("ul");w.className="atcb-list";var E="",C="";for(var S in i.calendars)if(e.hasOwnProperty(i.calendars[S])){var x=e[i.calendars[S]],k=""==d?"":'id="'+d+"_"+x+'_link"',N=c+x+"?"+f.join("&");s?C=N:E+='<li class="atcb-item"><a '+k+' class="atcb-item-link" href="'+N+'" target="_blank">'+i.calendars[S]+"</a></li>"}if(w.innerHTML=E,void 0==r[o].getElementsByClassName("atcb-link")[0]){var _=document.createElement("a");_.className="atcb-link",_.innerHTML=u,_.id=b,_.tabIndex="-1",s&&(_.href=C,_.target="_blank"),r[o].appendChild(_),s||r[o].appendChild(w)}else{var _=r[o].getElementsByClassName("atcb-link")[0];s||_.parentNode.appendChild(w),_.tabIndex="-1",""==_.id&&(_.id=b),s&&(_.href=C,_.target="_blank")}r[o].getElementsByClassName("atcb-link")[0].addEventListener("click",i["on-button-click"],!1);for(var L=r[o].getElementsByClassName("atcb-item-link"),m=0;m<L.length;m++)L[m].addEventListener("click",i["on-calendar-click"],!1)}}})},addtocalendar.load())}(window,document),window.Modernizr=function(e,t,n){function r(e){v.cssText=e}function o(e,t){return typeof e===t}function a(e,t){return!!~(""+e).indexOf(t)}function i(e,t){for(var r in e){var o=e[r];if(!a(o,"-")&&v[o]!==n)return"pfx"==t?o:!0}return!1}function s(e,t,r){for(var a in e){var i=t[e[a]];if(i!==n)return r===!1?e[a]:o(i,"function")?i.bind(r||t):i}return!1}function l(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+w.join(r+" ")+r).split(" ");return o(t,"string")||o(t,"undefined")?i(a,t):(a=(e+" "+E.join(r+" ")+r).split(" "),s(a,t,n))}var c,d,u,p="2.8.3",f={},h=t.documentElement,g="modernizr",m=t.createElement(g),v=m.style,y=":)",b=({}.toString,"Webkit Moz O ms"),w=b.split(" "),E=b.toLowerCase().split(" "),C={},S=[],x=S.slice,k=function(e,n,r,o){var a,i,s,l,c=t.createElement("div"),d=t.body,u=d||t.createElement("body");if(parseInt(r,10))for(;r--;)s=t.createElement("div"),s.id=o?o[r]:g+(r+1),c.appendChild(s);return a=["&#173;",'<style id="s',g,'">',e,"</style>"].join(""),c.id=g,(d?c:u).innerHTML+=a,u.appendChild(c),d||(u.style.background="",u.style.overflow="hidden",l=h.style.overflow,h.style.overflow="hidden",h.appendChild(u)),i=n(c,e),d?c.parentNode.removeChild(c):(u.parentNode.removeChild(u),h.style.overflow=l),!!i},N=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t)&&n(t).matches||!1;var r;return k("@media "+t+" { #"+g+" { position: absolute; } }",function(t){r="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),r},_={}.hasOwnProperty;u=o(_,"undefined")||o(_.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return _.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=x.call(arguments,1),r=function(){if(this instanceof r){var o=function(){};o.prototype=t.prototype;var a=new o,i=t.apply(a,n.concat(x.call(arguments)));return Object(i)===i?i:a}return t.apply(e,n.concat(x.call(arguments)))};return r}),C.borderradius=function(){return l("borderRadius")},C.csstransitions=function(){return l("transition")},C.generatedcontent=function(){var e;return k(["#",g,"{font:0/0 a}#",g,':after{content:"',y,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e};for(var L in C)u(C,L)&&(d=L.toLowerCase(),f[d]=C[L](),S.push((f[d]?"":"no-")+d));return f.addTest=function(e,t){if("object"==typeof e)for(var r in e)u(e,r)&&f.addTest(r,e[r]);else{if(e=e.toLowerCase(),f[e]!==n)return f;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(h.className+=" "+(t?"":"no-")+e),f[e]=t}return f},r(""),m=c=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=y.elements;return"string"==typeof e?e.split(" "):e}function o(e){var t=v[e[g]];return t||(t={},m++,e[g]=m,v[m]=t),t}function a(e,n,r){if(n||(n=t),d)return n.createElement(e);r||(r=o(n));var a;return a=r.cache[e]?r.cache[e].cloneNode():h.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),!a.canHaveChildren||f.test(e)||a.tagUrn?a:r.frag.appendChild(a)}function i(e,n){if(e||(e=t),d)return e.createDocumentFragment();n=n||o(e);for(var a=n.frag.cloneNode(),i=0,s=r(),l=s.length;l>i;i++)a.createElement(s[i]);return a}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return y.shivMethods?a(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function l(e){e||(e=t);var r=o(e);return y.shivCSS&&!c&&!r.hasCSS&&(r.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),d||s(e,r),e}var c,d,u="3.7.0",p=e.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",m=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,d=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){c=!0,d=!0}}();var y={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:u,shivCSS:p.shivCSS!==!1,supportsUnknownElements:d,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:l,createElement:a,createDocumentFragment:i};e.html5=y,l(t)}(this,t),f._version=p,f._domPrefixes=E,f._cssomPrefixes=w,f.mq=N,f.testProp=function(e){return i([e])},f.testAllProps=l,f.testStyles=k,f}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==m.call(e)}function o(e){return"string"==typeof e}function a(){}function i(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=v.shift();y=1,e?e.t?h(function(){("c"==e.t?p.injectCss:p.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):y=0}function l(e,n,r,o,a,l,c){function d(t){if(!f&&i(u.readyState)&&(b.r=f=1,!y&&s(),u.onload=u.onreadystatechange=null,t)){"img"!=e&&h(function(){E.removeChild(u)},50);for(var r in N[n])N[n].hasOwnProperty(r)&&N[n][r].onload()}}var c=c||p.errorTimeout,u=t.createElement(e),f=0,m=0,b={t:r,s:n,e:a,a:l,x:c};1===N[n]&&(m=1,N[n]=[]),"object"==e?u.data=n:(u.src=n,u.type=e),u.width=u.height="0",u.onerror=u.onload=u.onreadystatechange=function(){d.call(this,m)},v.splice(o,0,b),"img"!=e&&(m||2===N[n]?(E.insertBefore(u,w?null:g),h(d,c)):N[n].push(u))}function c(e,t,n,r,a){return y=0,t=t||"j",o(e)?l("c"==t?S:C,e,t,this.i++,n,r,a):(v.splice(this.i++,0,e),1==v.length&&s()),this}function d(){var e=p;return e.loader={load:c,i:0},e}var u,p,f=t.documentElement,h=e.setTimeout,g=t.getElementsByTagName("script")[0],m={}.toString,v=[],y=0,b="MozAppearance"in f.style,w=b&&!!t.createRange().compareNode,E=w?f:g.parentNode,f=e.opera&&"[object Opera]"==m.call(e.opera),f=!!t.attachEvent&&!f,C=b?"object":f?"script":"img",S=f?"script":C,x=Array.isArray||function(e){return"[object Array]"==m.call(e)},k=[],N={},_={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};p=function(e){function t(e){var t,n,r,e=e.split("!"),o=k.length,a=e.pop(),i=e.length,a={url:a,origUrl:a,prefixes:e};for(n=0;i>n;n++)r=e[n].split("="),(t=_[r.shift()])&&(a=t(a,r));for(n=0;o>n;n++)a=k[n](a);return a}function i(e,o,a,i,s){var l=t(e),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(o&&(o=r(o)?o:o[e]||o[i]||o[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,o,a,i,s):(N[l.url]?l.noexec=!0:N[l.url]=1,a.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(r(o)||r(c))&&a.load(function(){d(),o&&o(l.origUrl,s,i),c&&c(l.origUrl,s,i),N[l.url]=2})))}function s(e,t){function n(e,n){if(e){if(o(e))n||(u=function(){var e=[].slice.call(arguments);p.apply(this,e),f()}),i(e,u,t,0,c);else if(Object(e)===e)for(l in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(l)&&(!n&&!--s&&(r(u)?u=function(){var e=[].slice.call(arguments);p.apply(this,e),f()}:u[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),f()}}(p[l])),i(e[l],u,t,l,c))}else!n&&f()}var s,l,c=!!e.test,d=e.load||e.both,u=e.callback||a,p=u,f=e.complete||a;n(c?e.yep:e.nope,!!d),d&&n(d)}var l,c,u=this.yepnope.loader;if(o(e))i(e,0,u,0);else if(x(e))for(l=0;l<e.length;l++)c=e[l],o(c)?i(c,0,u,0):x(c)?p(c):Object(c)===c&&s(c,u);else Object(e)===e&&s(e,u)},p.addPrefix=function(e,t){_[e]=t},p.addFilter=function(e){k.push(e)},p.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",u=function(){t.removeEventListener("DOMContentLoaded",u,0),t.readyState="complete"},0)),e.yepnope=d(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,r,o,l,c){var d,u,f=t.createElement("script"),o=o||p.errorTimeout;f.src=e;for(u in r)f.setAttribute(u,r[u]);n=c?s:n||a,f.onreadystatechange=f.onload=function(){!d&&i(f.readyState)&&(d=1,n(),f.onload=f.onreadystatechange=null)},h(function(){d||(d=1,n(1))},o),l?f.onload():g.parentNode.insertBefore(f,g)},e.yepnope.injectCss=function(e,n,r,o,i,l){var c,o=t.createElement("link"),n=l?s:n||a;o.href=e,o.rel="stylesheet",o.type="text/css";for(c in r)o.setAttribute(c,r[c]);i||(g.parentNode.insertBefore(o,g),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(e,t){function n(t,n,i,s){t[r](a+n,"wheel"==o?i:function(t){!t&&(t=e.event);var n={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==o?(n.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(n.deltaX=-1/40*t.wheelDeltaX)):n.deltaY=t.detail,i(n)},s||!1)}var r,o,a="";e.addEventListener?r="addEventListener":(r="attachEvent",a="on"),o="onwheel"in t.createElement("div")?"wheel":void 0!==t.onmousewheel?"mousewheel":"DOMMouseScroll",e.addWheelListener=function(e,t,r){n(e,o,t,r),"DOMMouseScroll"==o&&n(e,"MozMousePixelScroll",t,r)}}(window,document),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var n,r=document.createElement(e||"div");for(n in t)r[n]=t[n];return r}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,r){var o=["opacity",t,~~(100*e),n,r].join("-"),a=.01+n/r*100,i=Math.max(1-(1-e)/t*(100-a),e),s=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=s&&"-"+s+"-"||"";return u[o]||(p.insertRule("@"+l+"keyframes "+o+"{0%{opacity:"+i+"}"+a+"%{opacity:"+e+"}"+(a+.01)+"%{opacity:1}"+(a+t)%100+"%{opacity:"+e+"}100%{opacity:"+i+"}}",p.cssRules.length),u[o]=1),o}function r(e,t){var n,r,o=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<d.length;r++)if(n=d[r]+t,void 0!==o[n])return n;return void 0!==o[t]?t:void 0}function o(e,t){for(var n in t)e.style[r(e,n)||n]=t[n];return e}function a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)void 0===e[r]&&(e[r]=n[r])}return e}function i(e,t){return"string"==typeof e?e:e[t%e.length]}function s(e){this.opts=a(e||{},s.defaults,f)}function l(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}p.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(e,r){function a(){return o(n("group",{coordsize:d+" "+d,coordorigin:-c+" "+-c}),{width:d,height:d})}function s(e,s,l){t(p,t(o(a(),{rotation:360/r.lines*e+"deg",left:~~s}),t(o(n("roundrect",{arcsize:r.corners}),{width:c,height:r.width,left:r.radius,top:-r.width>>1,filter:l}),n("fill",{color:i(r.color,e),opacity:r.opacity}),n("stroke",{opacity:0}))))}var l,c=r.length+r.width,d=2*c,u=2*-(r.width+r.length)+"px",p=o(a(),{position:"absolute",top:u,left:u});if(r.shadow)for(l=1;l<=r.lines;l++)s(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=r.lines;l++)s(l);return t(e,p)},s.prototype.opacity=function(e,t,n,r){var o=e.firstChild;r=r.shadow&&r.lines||0,o&&t+r<o.childNodes.length&&(o=o.childNodes[t+r],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=n))}}var c,d=["webkit","Moz","ms","O"],u={},p=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),f={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};s.defaults={},a(s.prototype,{spin:function(t){this.stop();{var n=this,r=n.opts,a=n.el=o(e(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex});r.radius+r.length+r.width}if(o(a,{left:r.left,top:r.top}),t&&t.insertBefore(a,t.firstChild||null),a.setAttribute("role","progressbar"),n.lines(a,n.opts),!c){var i,s=0,l=(r.lines-1)*(1-r.direction)/2,d=r.fps,u=d/r.speed,p=(1-r.opacity)/(u*r.trail/100),f=u/r.lines;!function h(){s++;for(var e=0;e<r.lines;e++)i=Math.max(1-(s+(r.lines-e)*f)%u*p,r.opacity),n.opacity(a,e*r.direction+l,i,r);n.timeout=n.el&&setTimeout(h,~~(1e3/d))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(r,a){function s(t,n){return o(e(),{position:"absolute",width:a.length+a.width+"px",height:a.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/a.lines*d+a.rotate)+"deg) translate("+a.radius+"px,0)",borderRadius:(a.corners*a.width>>1)+"px"})}for(var l,d=0,u=(a.lines-1)*(1-a.direction)/2;d<a.lines;d++)l=o(e(),{position:"absolute",top:1+~(a.width/2)+"px",transform:a.hwaccel?"translate3d(0,0,0)":"",opacity:a.opacity,animation:c&&n(a.opacity,a.trail,u+d*a.direction,a.lines)+" "+1/a.speed+"s linear infinite"}),a.shadow&&t(l,o(s("#000","0 0 4px #000"),{top:"2px"})),t(r,t(l,s(i(a.color,d),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var h=o(e("group"),{behavior:"url(#default#VML)"});return!r(h,"transform")&&h.adj?l():c=r(h,"animation"),s});var app=app||{};app.map=function(e,t,n){function r(e,t,r){n().url(e).type(t).on("success",function(e){r(e)}).on("error",function(e){r("error")}).go()}function o(){i=app.ui.el,s=app.ui.f,g()}var a,i={},s={},l="https://chenrick.cartodb.com/api/v2/sql?q=",c={},d=function(e,t,n){var o="9cd0a15f",a="app_id="+o+"&",i="54dc84bcaca9ff4877da771750033275",s="app_key="+i,l="houseNumber="+e+"&",c=t.replace(" ","+"),d="street="+c+"&",p="borough="+n+"&",f="https://api.cityofnewyork.us/geoclient/v1/address.json?",h=f+l+d+p+a+s;r(h,"jsonp",u)},u=function(e){if("object"==typeof e&&void 0!==e.address.bbl){var t=e.address;c={bbl:t.bbl,lon:t.longitudeInternalLabel,lat:t.latitudeInternalLabel,hNo:t.houseNumber,sName:t.streetName1In,bCode:t.boroughCode1In,bUSPS:t.uspsPreferredCityName,zip:t.zipCode,cd:t.communityDistrict,bin:t.giBuildingIdentificationNumber1};var n=t.bbl,r=JSON.stringify(c);_gaq.push(["_trackEvent","Geoclient Success","Result",r]),p(n),h(e)}else app.ui.el.addressInput.value="",app.ui.f.resetBoroValue(),app.ui.f.hasClass(app.ui.el.valErrorNF,"vis-hidden")===!0&&app.ui.f.toggleClass(app.ui.el.valErrorNF,"vis-hidden"),app.ui.f.hasClass(app.ui.el.valErrorBoro,"vis-hidden")===!1&&app.ui.f.addClass(app.ui.el.valErrorBoro,"vis-hidden"),app.ui.f.hasClass(app.ui.el.valErrorAddress,"vis-hidden")===!1&&app.ui.f.addClass(app.ui.el.valErrorAddress,"vis-hidden"),app.ui.state.formFilled=!1,app.ui.f.goToPrevSlide()},p=function(e){var t="SELECT bbl FROM all_nyc_likely_rent_stabl_merged WHERE bbl = "+e;r(l+t,"json",f)},f=function(e){if(e.rows.length>0&&i.yesNoState===!1){var t=JSON.stringify(e.rows[0].bbl);_gaq.push(["_trackEvent","CDB","Match",t]),s.toggleClass(i.yes,"hidden"),s.toggleClass(i.no,"hidden"),i.yesNoState=!0}s.goToNextSlide()},h=function(e){var t=e.address.longitudeInternalLabel,n=e.address.latitudeInternalLabel,r=[n,t],o=e.address.houseNumber+" "+e.address.firstStreetNameNormalized+"<br>"+e.address.uspsPreferredCityName+", NY "+e.address.zipCode;a&&i.map.removeLayer(a),a=new L.marker(r).addTo(i.map),a.on("popupopen",function(e){i.map.setView(r,17)}),a.bindPopup("<b>"+o+"</b>").openPopup()},g=function(){i.map=new L.Map("map",{center:[40.7127,-74.0059],zoom:12,dragging:!1,touchZoom:!1,doubleClickZoom:!1,scrollWheelZoom:!1,zoomControl:!1,keyboard:!1});var e=L.tileLayer("http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>'});i.map.addLayer(e),cartodb.createLayer(i.map,{user_name:"chenrick",legends:!1,cartodb_logo:!1,type:"cartodb",sublayers:[{sql:"SELECT the_geom, the_geom_webmercator, cartodb_id FROM all_nyc_likely_rent_stabl_merged",cartocss:"#all_map_pluto_rent_stabl_reg_2014v1 {polygon-fill: #FF6600;polygon-opacity: 0.6;line-color: #000;line-width: 0.7;line-opacity: 0.5;}"}]}).addTo(i.map).done(function(t){e.bringToBack()})},m=function(){a&&i.map.removeLayer(a),i.map.setView([40.7127,-74.0059],12)};return{init:o,geoclient:d,resetMap:m}}(document,window,aja);var app=app||{};app.ui=function(e,t){function n(e){this.dd=e,this.placeholder=this.dd.children("span"),this.opts=this.dd.find("ul.drop-down > li"),this.val=void 0,this.index=-1,this.initEvents()}function r(e,t,n){var r=0,o=e.length;for(r;o>r;r++)e[r].addEventListener(t,n,!1)}function o(e){var t=e.keyCode;t===O.UP?(l(),e.preventDefault()):t===O.DOWN&&(c(),e.preventDefault())}function a(e){var t=e/30||-e;-1>t?c():t>1&&l()}function i(e){for(var t,n=0;n<_.slides.length;n++)_.slides[n]===e&&(t=n);return t}function s(e){if(!j&&e){j=!0,_.currentSlide=e;var t=i(e);TweenLite.to(_.slidesContainer,1,{scrollTo:{y:T*t},onComplete:u})}}function l(e){var t=_.currentSlide.previousElementSibling;t&&(s(t),e&&"function"==typeof e&&e())}function c(e){var t=i(_.currentSlide),n=_.currentSlide.nextElementSibling;n&&(0===t||t>=1&&L.formFilled===!0)&&(s(n),e&&"function"==typeof e&&e())}function d(){_.currentSlide&&(_.addressInput.value="",C(),S(),x(),L.formFilled=!1,app.map.resetMap(),m(_.yes,"hidden"),y(_.no,"hidden"),s(_.slides[0]))}function u(){j=!1,p(_.currentSlide)}function p(e){var t=i(e),n=0,r=app.ui.el.progressCircles.length;for(n;r>n;n++){var o=_.progressCircles[n];t===n?(o.style.backgroundImage="url(assets/png/oval_25_filled.png)",o.style.backgroundSize="25px",o.style.backgroundRepeat="no-repeat"):(o.style.background="url(assets/png/oval_25_blank.png)",o.style.backgroundSize="25px",o.style.backgroundRepeat="no-repeat")}}function f(){var t=e.innerHeight,n=_.currentSlide,r=i(n);T!==t&&(T=t,TweenLite.set([_.slidesContainer,_.slides],{height:T+"px"}),TweenLite.set(_.slidesContainer,{scrollTo:{y:T*r}}))}function h(e,t){if(e&&e.length){var n=0,r=e.length;for(n;r>n;n++)return t(e[n],n)}return e&&!e.length?t(e):void 0}function g(e,t){return h(e,function(e){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)})}function m(e,t){h(e,function(e){e.classList?e.classList.add(t):e.className+=" "+t})}function v(e,t){h(e,function(e){if(e.classList)e.classList.toggle(t);else{var n=e.className.split(" "),r=n.indexOf(t);r>=0?n.splice(r,1):(n.push(t),e.className=n.join(" "))}})}function y(e,t){h(e,function(e){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")})}function b(e,t){if(""!==e&&void 0!==t){L.formFilled=!0,c();var n=w(e);setTimeout(function(){app.map.geoclient(n[0],n[1],t)},1e3)}else""===e&&void 0===t?g(_.valErrorAddress,"vis-hidden")===!0&&g(_.valErrorBoro,"vis-hidden")===!0&&(v(_.valErrorAddress,"vis-hidden"),v(_.valErrorBoro,"vis-hidden")):void 0===t?g(_.valErrorBoro,"vis-hidden")===!0&&v(_.valErrorBoro,"vis-hidden"):""===e?g(_.valErrorAddress,"vis-hidden")===!0&&v(_.valErrorAddress,"vis-hidden"):l()}function w(e){var t=e.split(" "),n=t.length,r=t[0],o=t.splice(1,n),a=o.join(" ");return[r,a]}function E(){var e="rentinfo@nyshcr.org",t="request for rent history",n="Hello, \n\nI, YOUR NAME HERE, am currently renting YOUR ADDRESS, APARTMENT NUMBER, BOROUGH, ZIPCODE and would like to request the rent history for this apartment. Any information you can provide me would be greatly appreciated. \n\nthank you,\n\n- YOUR NAME HERE",r="mailto:"+encodeURIComponent(e)+"?subject="+encodeURIComponent(t)+"&body="+encodeURIComponent(n);_.mailTo.setAttribute("href",r)}function C(){_.yesNoState===!0&&(v(_.yes,"hidden"),v(_.no,"hidden"),_.yesNoState=!1)}function S(){var e=0,t=_.valErrors.length;for(e;t>e;e++)g(_.valErrors[e],"vis-hidden")===!1&&m(_.valErrors[e],"vis-hidden")}function x(){M.val=void 0,M.placeholder.text("Select a Borough")}function k(){var n,r,o=new Date;n=new Date(o),n.setDate(n.getDate()+7),r=new Date(o),r.setDate(n.getDate()+1),_.addToCalendar.innerHTML='<var class="atc_event"><var class="atc_date_start">'+n+'</var><var class="atc_date_end">'+r+'</var><var class="atc_timezone">America/New_York</var><var class="atc_title">Check mail for my rent history</var><var class="atc_description">See if your rent history arrived in the mail, then go back to http://amirentstabilzed.com!</var><var class="atc_location">my house</var></var>',e.addtocalendar.load();

var a=t.querySelector("#atc_text_link_link.atcb-link");a.innerHTML="Click here to create a calendar reminder.",a.tabindex="-1"}function N(){_.currentSlide=_.slides[0],s(_.currentSlide),m(_.yes,"hidden"),E(),k(),app.map.init()}var _={navGoNext:t.querySelectorAll(".go-next"),navGoFirst:t.querySelectorAll(".go-first"),navGoFour:t.querySelectorAll(".go-step4"),progressCircles:t.querySelectorAll(".margin-circles li"),slidesContainer:t.querySelector(".slides-container"),slides:t.querySelectorAll(".slide"),slide4:t.querySelector("#slide-8"),currentSlide:null,addressInput:t.querySelector(".address-input"),boroSelect:t.querySelector(".user-data.borough-select"),boroDropDown:t.getElementById("boroughs"),boroDropDownItems:t.querySelectorAll("#boroughs li a"),selectBoro:t.getElementsByName("borough"),search:t.querySelector(".search"),valErrors:t.querySelectorAll(".validation-error"),valErrorAddress:t.getElementById("error-address"),valErrorBoro:t.getElementById("error-boro"),valErrorNF:t.getElementById("error-not-found"),yes:t.querySelectorAll(".yes"),no:t.querySelectorAll(".no"),yesNoState:!1,map:t.getElementById("map"),mapMessage:t.querySelector(".map-message"),mailTo:t.getElementById("mail-to"),lightBox:t.getElementById("rent-history"),addToCalendar:t.getElementById("atc_text_link"),addToCalendarLink:t.querySelector("#atc_text_link_link.atcb-link"),fbShare:t.querySelector(".fb-share-button"),learnMore:t.querySelector(".button.learn-more")},L={formFilled:!1,currentSlide:null,curSlideIndex:0},j=!1,T=e.innerHeight,O={UP:38,DOWN:40},M=null;return e.onresize=f,addWheelListener(e,function(e){a(e.deltaY),e.preventDefault()}),e.onkeydown=o,r(_.navGoNext,"click",c),r(_.navGoFour,"click",function(e){e.preventDefault(),L.formFilled=!0,s(_.slides[6])}),n.prototype={initEvents:function(){var e=this;e.dd.on("click",function(e){return e.preventDefault(),v(this,"active"),!1}),e.opts.on("click",function(t){t.preventDefault();var n=$(this);e.val=n.text(),e.index=n.index(),e.placeholder.text("Borough: "+e.val)})},getValue:function(){return this.val},getIndex:function(){return this.index}},M=new n($(".user-data.borough-select")),_.slidesContainer.addEventListener("click",function(e){g(_.boroSelect,"active")&&y(_.boroSelect,"active")}),_.search.addEventListener("click",function(e){e.preventDefault();var t=_.addressInput.value,n=M.val;_gaq.push(["_trackEvent","Address Entered","Search",t+", "+n]),b(t,n)}),r(_.navGoFirst,"click",d),_.addressInput.addEventListener("blur",function(e){""!==_.addressInput.value&&g(_.valErrorAddress,"vis-hidden")!==!0&&m(_.valErrorAddress,"vis-hidden")}),r(_.boroDropDownItems,"click",function(e){g(_.valErrorBoro,"vis-hidden")!==!0&&void 0!==M.getValue&&m(_.valErrorBoro,"vis-hidden")}),_.lightBox.addEventListener("click",function(t){t.preventDefault(),s(_.slides[6]),e.location.hash=""}),{init:N,el:_,f:{goToSlide:s,goToPrevSlide:l,goToNextSlide:c,toggleClass:v,hasClass:g,addClass:m,resetBoroValue:x},state:L}}(window,document),window.addEventListener("DOMContentLoaded",function(){app.ui.init()});